{% extends "layout.html" %}

{% block javascript %}
<script type="text/javascript" src="{{ url_for('static', filename='js/survey.js') }}" defer></script>
{% endblock %}

{% block content %}
<div class="content">
    <form action="{{ url_for('survey.create_location') }} " method="POST" enctype="multipart/form-data">
        <!-- Location form -->
        <div class="grey-container survey-form">
                {{ form.hidden_tag() }}
                <div class="survey-header">
                    <img class="svg-icon" src="{{ url_for('static', filename='img/icon_building.svg') }}" alt="building icon">
                    <legend>Location</legend>
                </div>
                <div class="input-box">
                    {{ form.location_name.label }}
                    {{ form.location_name }}
                    {% if form.location_name.errors %}
                    <div class="error">
                        {% for error in form.location_name.errors %}
                            <span>
                                {{ error }}
                            </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="input-box">
                    {{ form.address.label }}
                    {{ form.address }}
                    {% if form.address.errors %}
                    <div class="error">
                        {% for error in form.address.errors %}
                            <span>
                                {{ error }}
                            </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="input-box">
                    {{ form.postal_code.label }}
                    {{ form.postal_code }}
                    {% if form.postal_code.errors %}
                    <div class="error">
                        {% for error in form.postal_code.errors %}
                            <span>
                                {{ error }}
                            </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="input-box">
                    {{ form.city.label }}
                    {{ form.city }}
                    {% if form.city.errors %}
                    <div class="error">
                        {% for error in form.city.errors %}
                            <span>
                                {{ error }}
                            </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="input-box">
                    {{ form.country.label }}
                    {{ form.country }}
                    {% if form.country.errors %}
                    <div class="error">
                        {% for error in form.country.errors %}
                            <span>
                                {{ error }}
                            </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="input-box">
                    <button id="btn-coords" type="button">Use my coordinates</button>
                    <p id="error"></p>
                </div>
                <div class="input-box">
                    {{ form.coordinate_lat.label }}
                    {{ form.coordinate_lat }}
                    {% if form.coordinate_lat.errors %}
                    <div class="error">
                        {% for error in form.coordinate_lat.errors %}
                            <span>
                                {{ error }}
                            </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="input-box">
                    {{ form.coordinate_long.label }}
                    {{ form.coordinate_long }}
                    {% if form.coordinate_lat.errors %}
                    <div class="error">
                        {% for error in form.coordinate_long.errors %}
                            <span>
                                {{ error }}
                            </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
            {{ form.submit }}  
        </div>     
    </form>
</div>
{% endblock %}